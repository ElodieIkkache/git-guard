<!Doctype html>
<html>

<head>

	<title>GIT-Guard</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!--favicon-->
	<link rel= "icon" type="image/png" href = "favicon.png"/>
  
  
	<!--boostrap-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<!--visualisation script-->
	<script src="http://d3js.org/d3.v3.js"></script>
	
	<style>
		
		body {
		   background-image:  url(bg.jpg);
		   background-repeat : no-repeat;
		   background-attachment : fixed;
		   text-align: center;
		}
		
		p {
			text-align: left;
			color: #ffffff;
		}
		
		h5{
			font-size: 20px;
		}
		
		h3 {
			color: #513742;
			font-size: 30px;
		}
		
		h2{
			color: #ffffff;
			font-size: 40px;
		}
		
		h1 { 
			color: #f4a460;
			font-size: 100px;
			font-family: Papyrus;
		}
		
		.container {
			background-color:rgba(0, 0, 1, 0.5);
			padding-left : 0px;
			padding-right : 0px;
		}
		
		.collapse {
			padding: 20px;
		}
		
		.img.item {
			display: block; 
			margin: 0 auto; 
			height: 20px;
			<!--j'arrive pas à center!!!!!!!!!!!!!!!!!!!!!!-->
		}
		
		<!--for visualisation 1 = bar graph-->
		.bar {
		  fill: orange;
		}

		.bar:hover {
		  fill: purple;
		}

		.axis--x path {
		  display: none;
		}

		<!--for visualisation 3 = multiple lines graph-->

		.axis--x path {
		  display: none;
		}

		.line {
		  fill: none;
		  stroke: steelblue;
		  stroke-width: 1.5px;
		}



		<!--for visualisation 4 = heatmap-->
		      rect.bordered {
				stroke: #E6E6E6;
				stroke-width:2px;   
			  }

			  text.mono {
				font-size: 9pt;
				font-family: Consolas, courier;
				fill: #aaa;
			  }

			  text.axis-workweek {
				fill: #000;
			  }

			  text.axis-worktime {
				fill: #000;
			  }
		
	</style>
	
</head>

<body>
	<div>
		<h1>GIT- Guard</h1>
		<h2>Use this application to analyse the contributions to git projects!</h2>
		<form class="form-inline">
			<div class="input-group">
				<input type="text" class="form-control" size="50" id="repository" placeholder="GIT repository link" required>
				<div class="input-group-btn">
					<button type="submit" class="btn btn-default">Submit</button>
			    </div>
			</div>
		</form>
		
		<h3>Choose a visualisation</h3>
	</div>

	
	
	<div class="container">
	  <!--visualisation 1-->
	  <button type="button" class="btn btn-warning btn-block" data-toggle="collapse" data-target="#V1" data-toggle="modal" data-target="#myModal"> <h5>contribution of all members</h5></button>
	  <div id="V1" class="collapse">
		
		<p>See the contribution of all team members! The first visualisation is based on the number of commits for each of the team members. The second is based on the total number of additions and deletions.</p>
	
		<div>
		<svg id="visualisation1" width="960" height="500"></svg>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<script>
		var zert = d3.select("#visualisation1"),
			margin = {top: 20, right: 20, bottom: 30, left: 50},
			width = +zert.attr("width") - margin.left - margin.right,
			height = +zert.attr("height") - margin.top - margin.bottom;

		var x = d3.scaleBand().rangeRound([0, width]).padding(0.1),
			y = d3.scaleLinear().rangeRound([height, 0]);

		var g = zert.append("g")
			.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

		d3.tsv("visualisation1/data.tsv", function(d) {
		  d.frequency = +d.frequency;
		  return d;
		}, function(error, data) {
		  if (error) throw error;

		  x.domain(data.map(function(d) { return d.letter; }));
		  y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

		  g.append("g")
			  .attr("class", "axis axis--x")
			  .attr("transform", "translate(0," + height + ")")
			  .call(d3.axisBottom(x));

		  g.append("g")
			  .attr("class", "axis axis--y")
			  .call(d3.axisLeft(y).ticks(10, "%"))
			.append("text")
			  .attr("transform", "rotate(-90)")
			  .attr("y", 6)
			  .attr("dy", "0.71em")
			  .attr("text-anchor", "end")
			  .text("Frequency");

		  g.selectAll(".bar")
			.data(data)
			.enter().append("rect")
			  .attr("class", "bar")
			  .attr("x", function(d) { return x(d.letter); })
			  .attr("y", function(d) { return y(d.frequency); })
			  .attr("width", x.bandwidth())
			  .attr("height", function(d) { return height - y(d.frequency); });
		});

		</script>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<br>
		<br>
		<br>
		<br>
		</div>		
		<div id="figure" style="margin-bottom: 50px;"></div>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min.js"></script>
		<script>

		var margin = {top: 50, right: 20, bottom: 10, left: 65},
			width = 800 - margin.left - margin.right,
			height = 500 - margin.top - margin.bottom;

		var y = d3.scale.ordinal()
			.rangeRoundBands([0, height], .3);

		var x = d3.scale.linear()
			.rangeRound([0, width]);

		var color = d3.scale.ordinal()
			.range(["#c7001e", "#f6a580", "#cccccc", "#92c6db", "#086fad"]);

		var xAxis = d3.svg.axis()
			.scale(x)
			.orient("top");

		var yAxis = d3.svg.axis()
			.scale(y)
			.orient("left")

		var svg = d3.select("#figure").append("svg")
			.attr("width", width + margin.left + margin.right)
			.attr("height", height + margin.top + margin.bottom)
			.attr("id", "d3-plot")
		  .append("g")
			.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

		  color.domain(["Strongly disagree", "Disagree", "Neither agree nor disagree", "Agree", "Strongly agree"]);

		  d3.csv("visualisation1/raw_data.csv", function(error, data) {

		  data.forEach(function(d) {
			// calc percentages
			d["Strongly disagree"] = +d[1]*100/d.N;
			d["Disagree"] = +d[2]*100/d.N;
			d["Neither agree nor disagree"] = +d[3]*100/d.N;
			d["Agree"] = +d[4]*100/d.N;
			d["Strongly agree"] = +d[5]*100/d.N;
			var x0 = -1*(d["Neither agree nor disagree"]/2+d["Disagree"]+d["Strongly disagree"]);
			var idx = 0;
			d.boxes = color.domain().map(function(name) { return {name: name, x0: x0, x1: x0 += +d[name], N: +d.N, n: +d[idx += 1]}; });
		  });

		  var min_val = d3.min(data, function(d) {
				  return d.boxes["0"].x0;
				  });

		  var max_val = d3.max(data, function(d) {
				  return d.boxes["4"].x1;
				  });

		  x.domain([min_val, max_val]).nice();
		  y.domain(data.map(function(d) { return d.Question; }));

		  svg.append("g")
			  .attr("class", "x axis")
			  .call(xAxis);

		  svg.append("g")
			  .attr("class", "y axis")
			  .call(yAxis)

		  var vakken = svg.selectAll(".question")
			  .data(data)
			.enter().append("g")
			  .attr("class", "bar")
			  .attr("transform", function(d) { return "translate(0," + y(d.Question) + ")"; });

		  var bars = vakken.selectAll("rect")
			  .data(function(d) { return d.boxes; })
			.enter().append("g").attr("class", "subbar");

		  bars.append("rect")
			  .attr("height", y.rangeBand())
			  .attr("x", function(d) { return x(d.x0); })
			  .attr("width", function(d) { return x(d.x1) - x(d.x0); })
			  .style("fill", function(d) { return color(d.name); });

		  bars.append("text")
			  .attr("x", function(d) { return x(d.x0); })
			  .attr("y", y.rangeBand()/2)
			  .attr("dy", "0.5em")
			  .attr("dx", "0.5em")
			  .style("font" ,"10px sans-serif")
			  .style("text-anchor", "begin")
			  .text(function(d) { return d.n !== 0 && (d.x1-d.x0)>3 ? d.n : "" });

		  vakken.insert("rect",":first-child")
			  .attr("height", y.rangeBand())
			  .attr("x", "1")
			  .attr("width", width)
			  .attr("fill-opacity", "0.5")
			  .style("fill", "#F5F5F5")
			  .attr("class", function(d,index) { return index%2==0 ? "even" : "uneven"; });

		  svg.append("g")
			  .attr("class", "y axis")
		  .append("line")
			  .attr("x1", x(0))
			  .attr("x2", x(0))
			  .attr("y2", height);

		  var startp = svg.append("g").attr("class", "legendbox").attr("id", "mylegendbox");
		  // this is not nice, we should calculate the bounding box and use that
		  var legend_tabs = [0, 120, 200, 375, 450];
		  var legend = startp.selectAll(".legend")
			  .data(color.domain().slice())
			.enter().append("g")
			  .attr("class", "legend")
			  .attr("transform", function(d, i) { return "translate(" + legend_tabs[i] + ",-45)"; });

		  legend.append("rect")
			  .attr("x", 0)
			  .attr("width", 18)
			  .attr("height", 18)
			  .style("fill", color);

		  legend.append("text")
			  .attr("x", 22)
			  .attr("y", 9)
			  .attr("dy", ".35em")
			  .style("text-anchor", "begin")
			  .style("font" ,"10px sans-serif")
			  .text(function(d) { return d; });

		  d3.selectAll(".axis path")
			  .style("fill", "none")
			  .style("stroke", "#000")
			  .style("shape-rendering", "crispEdges")

		  d3.selectAll(".axis line")
			  .style("fill", "none")
			  .style("stroke", "#000")
			  .style("shape-rendering", "crispEdges")

		  var movesize = width/2 - startp.node().getBBox().width/2;
		  d3.selectAll(".legendbox").attr("transform", "translate(" + movesize  + ",0)");


		});
		</script>
		
	  </div>
	  
	  
	  
	  
	  <!--visualisation 2-->
	  <button type="button" class="btn btn-warning btn-block" data-toggle="collapse" data-target="#V2"><h5>commit history for one member</h5></button>
	  <div id="V2" class="collapse">
	  <p> A line graph will show you the commit history of a team member, once you have selected one. You can also select the period of time you are interested in. Otherwise, the graph will display the history from the start of the project until now.</p>
		<form id = "form1" class="form-inline">
			<div class="input-group">
				<input type="text" class="form-control" size="50" id="member" placeholder="please choose a team member" required>
			</div>
			<div class = "date">
			<p> From : </p>
			<select name="day">
				<option value="0">...</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
			</select>
			
			<select name="month">
				<option value="0">...</option>
				<option value="1">January</option>
				<option value="2">February</option>
				<option value="3">Mars</option>
				<option value="4">April</option>
				<option value="5">Mai</option>
				<option value="6">June</option>
				<option value="7">July</option>
				<option value="8">August</option>
				<option value="9">September</option>
				<option value="10">October</option>
				<option value="11">November</option>
				<option value="12">December</option>
			</select>
			
			<select name="year">
				<option value="0">...</option>
				<option value="2000">2000</option>
				<option value="2001">2001</option>
				<option value="2002">2002</option>
				<option value="2003">2003</option>
				<option value="2004">2004</option>
				<option value="2005">2005</option>
				<option value="2006">2006</option>
				<option value="2007">2007</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
				<option value="2011">2011</option>
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option value="2015">2015</option>
				<option value="2016">2016</option>
				<option value="2017">2017</option>
			</select>
			
			
			<p> To : </p>
			<select name="day">
				<option value="0">...</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
			</select>
			
			<select name="month">
				<option value="0">...</option>
				<option value="1">January</option>
				<option value="2">February</option>
				<option value="3">Mars</option>
				<option value="4">April</option>
				<option value="5">Mai</option>
				<option value="6">June</option>
				<option value="7">July</option>
				<option value="8">August</option>
				<option value="9">September</option>
				<option value="10">October</option>
				<option value="11">November</option>
				<option value="12">December</option>
			</select>
			
			<select name="year">
				<option value="0">...</option>
				<option value="2000">2000</option>
				<option value="2001">2001</option>
				<option value="2002">2002</option>
				<option value="2003">2003</option>
				<option value="2004">2004</option>
				<option value="2005">2005</option>
				<option value="2006">2006</option>
				<option value="2007">2007</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
				<option value="2011">2011</option>
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option value="2015">2015</option>
				<option value="2016">2016</option>
				<option value="2017">2017</option>
			</select>
			
			<br>
			<br>
			
			<button type="submit" class="btn btn-default btn-xs">Submit</button>
			
			</div>
		</form>
		
		<!-- we should do it with python-->
		<div id="visualisation2"></div>
	  </div>
	  
	  
	  
	  
	  <!--visualisation 3-->
	  <button type="button" class="btn btn-warning btn-block" data-toggle="collapse" data-target="#V3"><h5>commit history for several members</h5></button>
	  <div id="V3" class="collapse">
		<p> A multiple lines graph will show you the commit history of selected team members. You can also select the period of time you are interested in. Otherwise, the graph will display the history from the start of the project until now.</p>
		<form class="form-inline">
			<div id = "form3" class="input-group">
				<input type="text" class="form-control" size="50" id="members" placeholder="please choose team members (ex: adam, emily, helen)" required>
			</div>
			<div class = "date">
			<p> From : </p>
			<select name="day">
				<option value="0">...</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
			</select>
			
			<select name="month">
				<option value="0">...</option>
				<option value="1">January</option>
				<option value="2">February</option>
				<option value="3">Mars</option>
				<option value="4">April</option>
				<option value="5">Mai</option>
				<option value="6">June</option>
				<option value="7">July</option>
				<option value="8">August</option>
				<option value="9">September</option>
				<option value="10">October</option>
				<option value="11">November</option>
				<option value="12">December</option>
			</select>
			
			<select name="year">
				<option value="0">...</option>
				<option value="2000">2000</option>
				<option value="2001">2001</option>
				<option value="2002">2002</option>
				<option value="2003">2003</option>
				<option value="2004">2004</option>
				<option value="2005">2005</option>
				<option value="2006">2006</option>
				<option value="2007">2007</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
				<option value="2011">2011</option>
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option value="2015">2015</option>
				<option value="2016">2016</option>
				<option value="2017">2017</option>
			</select>
			
			
			<p> To : </p>
			<select name="day">
				<option value="0">...</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
			</select>
			
			<select name="month">
				<option value="0">...</option>
				<option value="1">January</option>
				<option value="2">February</option>
				<option value="3">Mars</option>
				<option value="4">April</option>
				<option value="5">Mai</option>
				<option value="6">June</option>
				<option value="7">July</option>
				<option value="8">August</option>
				<option value="9">September</option>
				<option value="10">October</option>
				<option value="11">November</option>
				<option value="12">December</option>
			</select>
			
			<select name="year">
				<option value="0">...</option>
				<option value="2000">2000</option>
				<option value="2001">2001</option>
				<option value="2002">2002</option>
				<option value="2003">2003</option>
				<option value="2004">2004</option>
				<option value="2005">2005</option>
				<option value="2006">2006</option>
				<option value="2007">2007</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
				<option value="2011">2011</option>
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option value="2015">2015</option>
				<option value="2016">2016</option>
				<option value="2017">2017</option>
			</select>
			
			<br>
			<br>
			
			<button type="submit" class="btn btn-default btn-xs">Submit</button>
			
			</div>
		</form>
		
		<!--multiple lines graph-->
		<div id="visualisation3"></div>
		<!--D3 is not working properly : i can't select an svg by ID so they all get mixed up...-->
		</script>

	  </div>
	  
	  
	  
	  <!--visualisation 4-->
	  <button type="button" class="btn btn-warning btn-block" data-toggle="collapse" data-target="#V4"><h5>commit history of all members</h5></button>
	  <div id="V4" class="collapse">
	  <p> A heatmap will show you the commits of each team member, for a chosen file. You can also select the period of time you are interested in. Otherwise, the graph will display the history from the start of the project until now. It is possible to focus only on a chuck of lines.</p>
		<form id = "form4" class="form-inline">
			<div class="input-group">
				<input type="text" class="form-control" size="50" id="file" placeholder="please choose a file" required>
			</div>
			<div class = "date">
			<p> From : </p>
			<select name="day">
				<option value="0">...</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
			</select>
			
			<select name="month">
				<option value="0">...</option>
				<option value="1">January</option>
				<option value="2">February</option>
				<option value="3">Mars</option>
				<option value="4">April</option>
				<option value="5">Mai</option>
				<option value="6">June</option>
				<option value="7">July</option>
				<option value="8">August</option>
				<option value="9">September</option>
				<option value="10">October</option>
				<option value="11">November</option>
				<option value="12">December</option>
			</select>
			
			<select name="year">
				<option value="0">...</option>
				<option value="2000">2000</option>
				<option value="2001">2001</option>
				<option value="2002">2002</option>
				<option value="2003">2003</option>
				<option value="2004">2004</option>
				<option value="2005">2005</option>
				<option value="2006">2006</option>
				<option value="2007">2007</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
				<option value="2011">2011</option>
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option value="2015">2015</option>
				<option value="2016">2016</option>
				<option value="2017">2017</option>
			</select>
			
			
			<p> To : </p>
			<select name="day">
				<option value="0">...</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
			</select>
			
			<select name="month">
				<option value="0">...</option>
				<option value="1">January</option>
				<option value="2">February</option>
				<option value="3">Mars</option>
				<option value="4">April</option>
				<option value="5">Mai</option>
				<option value="6">June</option>
				<option value="7">July</option>
				<option value="8">August</option>
				<option value="9">September</option>
				<option value="10">October</option>
				<option value="11">November</option>
				<option value="12">December</option>
			</select>
			
			<select name="year">
				<option value="0">...</option>
				<option value="2000">2000</option>
				<option value="2001">2001</option>
				<option value="2002">2002</option>
				<option value="2003">2003</option>
				<option value="2004">2004</option>
				<option value="2005">2005</option>
				<option value="2006">2006</option>
				<option value="2007">2007</option>
				<option value="2008">2008</option>
				<option value="2009">2009</option>
				<option value="2010">2010</option>
				<option value="2011">2011</option>
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option value="2015">2015</option>
				<option value="2016">2016</option>
				<option value="2017">2017</option>
			</select>			
			</div>
			
			<br>
			<br>
			
			<div class="input-group">
				<input type="text" class="form-control" size="6" id="line" placeholder="from line ...">
			</div>
			<div class="input-group">
				<input type="text" class="form-control" size="6" id="line" placeholder="to line ...  .">
			</div>
			<br>
			<br>
			
			<button type="submit" class="btn btn-default btn-xs">Submit</button>
			
			
			
			
			<div id="visualisation4"></div>
			<div id="dataset-picker"></div>
			<!-- i could not put the script in a different file because of styling issues, it might be a problem to refresh the graph-->
			<script type="text/javascript">
				var margin = { top: 50, right: 0, bottom: 100, left: 30 },
          width = 960 - margin.left - margin.right,
          height = 430 - margin.top - margin.bottom,
          gridSize = Math.floor(width / 24),
          legendElementWidth = gridSize*2,
          buckets = 9,
          colors = ["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"], // alternatively colorbrewer.YlGnBu[9]
          days = ["Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"],
          times = ["1a", "2a", "3a", "4a", "5a", "6a", "7a", "8a", "9a", "10a", "11a", "12a", "1p", "2p", "3p", "4p", "5p", "6p", "7p", "8p", "9p", "10p", "11p", "12p"];
          datasets = ["visualisation4/data.tsv", "visualisation4/data2.tsv"];

      var svg = d3.select("#visualisation4").append("svg")
          .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom)
          .append("g")
          .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      var dayLabels = svg.selectAll(".dayLabel")
          .data(days)
          .enter().append("text")
            .text(function (d) { return d; })
            .attr("x", 0)
            .attr("y", function (d, i) { return i * gridSize; })
            .style("text-anchor", "end")
            .attr("transform", "translate(-6," + gridSize / 1.5 + ")")
            .attr("class", function (d, i) { return ((i >= 0 && i <= 4) ? "dayLabel mono axis axis-workweek" : "dayLabel mono axis"); });

      var timeLabels = svg.selectAll(".timeLabel")
          .data(times)
          .enter().append("text")
            .text(function(d) { return d; })
            .attr("x", function(d, i) { return i * gridSize; })
            .attr("y", 0)
            .style("text-anchor", "middle")
            .attr("transform", "translate(" + gridSize / 2 + ", -6)")
            .attr("class", function(d, i) { return ((i >= 7 && i <= 16) ? "timeLabel mono axis axis-worktime" : "timeLabel mono axis"); });

      var heatmapChart = function(tsvFile) {
        d3.tsv(tsvFile,
        function(d) {
          return {
            day: +d.day,
            hour: +d.hour,
            value: +d.value
          };
        },
        function(error, data) {
          var colorScale = d3.scale.quantile()
              .domain([0, buckets - 1, d3.max(data, function (d) { return d.value; })])
              .range(colors);

          var cards = svg.selectAll(".hour")
              .data(data, function(d) {return d.day+':'+d.hour;});

          cards.append("title");

          cards.enter().append("rect")
              .attr("x", function(d) { return (d.hour - 1) * gridSize; })
              .attr("y", function(d) { return (d.day - 1) * gridSize; })
              .attr("rx", 4)
              .attr("ry", 4)
              .attr("class", "hour bordered")
              .attr("width", gridSize)
              .attr("height", gridSize)
              .style("fill", colors[0]);

          cards.transition().duration(1000)
              .style("fill", function(d) { return colorScale(d.value); });

          cards.select("title").text(function(d) { return d.value; });
          
          cards.exit().remove();

          var legend = svg.selectAll(".legend")
              .data([0].concat(colorScale.quantiles()), function(d) { return d; });

          legend.enter().append("g")
              .attr("class", "legend");

          legend.append("rect")
            .attr("x", function(d, i) { return legendElementWidth * i; })
            .attr("y", height)
            .attr("width", legendElementWidth)
            .attr("height", gridSize / 2)
            .style("fill", function(d, i) { return colors[i]; });

          legend.append("text")
            .attr("class", "mono")
            .text(function(d) { return "= " + Math.round(d); })
            .attr("x", function(d, i) { return legendElementWidth * i; })
            .attr("y", height + gridSize);

          legend.exit().remove();

        });  
      };

      heatmapChart(datasets[0]);
      
      var datasetpicker = d3.select("#dataset-picker").selectAll(".dataset-button")
        .data(datasets);

      datasetpicker.enter()
        .append("input")
        .attr("value", function(d){ return "Dataset " + d })
        .attr("type", "button")
        .attr("class", "dataset-button")
        .on("click", function(d) {
          heatmapChart(d);
        });
			</script>
	  </div>
	  
	  <!--visualisation 5-->
	  <button type="button" class="btn btn-warning btn-block" data-toggle="collapse" data-target="#V5"><h5>lines of code from each member</h5></button>
	  <div id="V5" class="collapse">
		<p>Here is a zoomable circle packing!! The black circle represents the project. The greys ones are the folders. Whites are the diffents files. And the colorfull ones represents the contributions of each members to the file! Feel free to zoom in some circle !</p>
		
		<!--zommable circle packing-->
		<svg id = "visualisation5" width="960" height="960"></svg>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<script src = "visualisation5/zoomableBubbles.js"></script>	
		
	  </div>
	  
	</div>
	
	<div>
		<br>
		<img src = "logo.png" height = "130px"/> 
		<br>
		<br>
		<br>
	</div>

<br>
<br>
</body>

<footer style="position: fixed; bottom: 0px; width: 100%; height: 20px; background-color: SandyBrown; >
	<br>
	<p style = "text-align: center"> by Elodie Ikkache, Vatsala Verma, Angeline Neoh Xing Yii & Rebekah Low Jin Yan </p>
</footer>